<!DOCTYPE html>
<!-- saved from url=(0192)http://living.midea.com/ccs/cookbook/3.6.11/menu_detail.html?AT=null&menuId=20112&from=default&unWifi=0&now=1550488265000&token=a4685e2fe5214d79a14867e6038ad67c5e28ab0bd3b3cc47c6f7cd713e16d697 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="author" content="CimiDesign">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>ç¾é£Ÿçƒ©-é£Ÿè°±è¯¦æƒ…</title>
    <!--<base href="http://ce-cdn.midea.com/ccs/cookbook/3.6.11/">-->

    <link href="./assets_files/comm.css" rel="stylesheet">
    <link href="./assets_files/topBar.css" rel="stylesheet">
    <link href="./assets_files/menu_detail.css" rel="stylesheet">
    <script src="./assets_files/stats.js" name="MTAH5" sid="500429915" cid="500429920"></script><script type="text/javascript" async="" src="./assets_files/countly.min.js"></script><script src="./assets_files/jweixin-1.2.0.js"></script>
    <script>

        //some default pre init
        var Countly = Countly || {};
        Countly.q = Countly.q || [];

        //provide your app key that you retrieved from Countly dashboard
        Countly.app_key = '8fbf9cf7e0e076d2feb9bf770a3b8e81795c7e2f';

        //provide your server IP or name. Use try.count.ly for EE trial server.
        //if you use your own server, make sure you have https enabled if you use
        //https below.
        Countly.url = 'https://countly.midea.com';

        //start pushing function calls to queue
        //track sessions automatically
        Countly.q.push(['track_sessions']);

        //track sessions automatically
        Countly.q.push(['track_pageview', location.pathname + location.hash]);

        (function () {

            var cly = document.createElement('script');  //å¼•å…¥countly
            cly.type = 'text/javascript';
            cly.async = true;
            //enter url of script here
            cly.src = 'js/countly.min.js';
            cly.onload = function () { Countly.init() };
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(cly, s);

        })();

        function meijuDownload() {
            location.href = 'http://iot4.midea.com.cn/downloads/app/index.html?pgfrom=wxcd3'
        }

    </script>
    <style>
        #dialog-mask {
            top: 0;
            height: 100vh;
            width: 100vw;
            background: #000;
            opacity: 0.5;
            display: none;
            position: fixed;
        }
    </style>
<meta name="viewport" content="width=640,minimum-scale=0.5859375, user-scalable=no"><script src="./assets_files/wxconfig"></script></head>

<body>
    <!--ç¾å±…é¡¶éƒ¨è¿”å›æ¡-->
    <div id="meiJu_topBar" style="position: fixed;z-index: 1000;">
        <a href="javascript:commJs.goBack()">
            <p><img src="./assets_files/return.png">&nbsp;&nbsp;è¿”å›</p>
        </a>
        <p class="title">ç¾é£Ÿçƒ©-é£Ÿè°±è¯¦æƒ…</p>
    </div>
    <h1 class="hide">ç¾å‹º</h1>
    <div class="g-bd">
        <div class="g-wrap">
            <!--å…³æ³¨-->
            <div class="fixTop" id="fixTop">
                <span id="classify" class="classify">
                    <a href="javascript:menu_detail.payAttention(&#39;close&#39;)"><i class="spr-close"></i></a>
                </span>
                <!-- <span class="top-logo"><i class="spr-mideaLogo"></i></span> -->
                <span class="top-text"><p>å»ºè®®ä¸‹è½½è·å–ç¾å±…APPï¼Œä»¥ä½“éªŒæ›´å¤š</p>
                    <p>æ™ºèƒ½å®¶ç”µæœåŠ¡</p></span>
                <div class="top-download" onclick="meijuDownload()">
                    <span style="color:#FFFFFF">
                        ç‚¹å‡»ä¸‹è½½
                    </span>
                </div>
            </div>
            <div class="m-pic">
                <!--<img :src="pic" v-if="pic.indexOf('v.qq.com') == -1" style="position:absolute;clip: rect(0px 640px 360px 0px)">-->
                <img src="./assets_files/20112.jpg">
                
            </div>
            <div class="m-personal" style="width: 100%">
                <p style="font-family: PingFangSC-Regular;font-size: 32px;color: #202634;">å¹²é”…é¦™è¾£é±¼å—</p>
                <div id="j_menu_title">
                    <span class="scanNum">2092</span>
                    <span class="colNum">84</span>
                </div>
                <div class="wx-Header" style="width: 70px;">
                    <img style="border-radius: 100%;width: 70px;" src="./assets_files/logo.png">
                </div>
                <div class="tab-list" style="overflow: hidden;white-space: nowrap;width: 420px;display: inline-block;margin-left: 30px;vertical-align: middle">
                    <p style="background: url(img/icon_label.png) no-repeat left center;background-size: 20px;padding-left: 30px;display: inline-block;font-size: 20px;color: #687085;margin-right: 30px;" class="tab-item">å…¨ä½“äººç¾¤</p>
                    <p style="background: url(img/icon_label.png) no-repeat left center;background-size: 20px;padding-left: 30px;display: inline-block;font-size: 20px;color: #687085;margin-right: 30px;" class="tab-item">ç¥›å¯’</p><p style="background: url(img/icon_label.png) no-repeat left center;background-size: 20px;padding-left: 30px;display: inline-block;font-size: 20px;color: #687085;margin-right: 30px;" class="tab-item">ç¥›æ¹¿</p>
                </div>
                <!-- <p class="nickName" style="font-family: PingFangSC-Light;font-size: 24px;color: #9A9BB3;">ç¾å‹ºå›</p> -->
            </div>
            <div class="m-intro">
                <i class="spr-shangyinghao_2" style="margin-left: 26px"></i>
                <div style="    font-family: PingFangSC-Light;font-size: 24px;">é±¼è‚‰å¯Œå«ä¼˜è´¨è›‹ç™½ï¼Œå«é‡æ˜¯çŒªè‚‰çš„ä¸¤å€ï¼Œä¸”æ˜“è¢«äººä½“å¸æ”¶ï¼ŒåŒæ—¶å¯Œå«ç»´ç”Ÿç´ ã€çŸ¿ç‰©è´¨ç­‰ã€‚å¹²é”…é¦™è¾£æ˜¯å·èœåšæ³•ï¼Œæ˜“ä¸Šç«ä½“è´¨éœ€é€‚é‡ã€‚</div>
                <i class="spr-xiayinghao_2" style="margin-right: 26px;float: right"></i>
            </div>
            <div class="m-fit">
                <h2 class="inline clock" style="font-family: PingFangSC-Regular;font-size: 28px;color: #9A9BB3;">å‚è€ƒæ—¶é—´</h2>
                <p style="font-family: PingFangSC-Light;font-size: 24px;color: #202634;">
                    <span>18åˆ†é’Ÿ</span>
                    
                </p>
            </div>
            <div class="m-fit">
                <h2 class="inline" style="font-family: PingFangSC-Regular;font-size: 28px;color: #9A9BB3;"><i class="spr-shiyongshebei_2" style="margin-bottom: 13px;"></i>é€‚ç”¨è®¾å¤‡</h2>
                <p style="font-family: PingFangSC-Light;font-size: 24px;color: #202634;">çƒ¹é¥ªæœº</p>
            </div>
            <div class="m-material m-multi-list">
                <div class="m-tab" id="m_tab">
                    <h2 style="font-family: PingFangSC-Regular;font-size: 28px;color: #9A9BB3;"><i class="spr-suoxushicai_2" tyle="margin-bottom: 13px;"></i>æ‰€éœ€é£Ÿæ</h2>
                    <div class="tab-bd">
                        <div class="tab-panel" style="display: block">
                            <ul class="m-ingrediens clearfix">
                                <li>
                                    <div style="width: 300px;float: left;padding-left: 55px">è‰é±¼</div>
                                    <span class="weight">1&nbsp;æ¡
                                    <span>(500&nbsp;å…‹ )</span>
                                    </span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">é’æ¤’</div>
                                    <span class="weight">1&nbsp;æ ¹
                                    <span>(50&nbsp;å…‹ )</span>
                                    </span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">çº¢æ¤’</div>
                                    <span class="weight">1&nbsp;æ ¹
                                    <span>(10&nbsp;å…‹ )</span>
                                    </span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">æ²¹</div>
                                    <span class="weight">4&nbsp;æ±¤åŒ™
                                    <span>(36&nbsp;æ¯«å‡ )</span>
                                    </span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">ç”ŸæŠ½</div>
                                    <span class="weight">2&nbsp;èŒ¶åŒ™
                                    <span>(11&nbsp;æ¯«å‡ )</span>
                                    </span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">è€æŠ½</div>
                                    <span class="weight">2&nbsp;èŒ¶åŒ™
                                    <span>(2&nbsp;æ¯«å‡ )</span>
                                    </span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">æ–™é…’</div>
                                    <span class="weight">2&nbsp;èŒ¶åŒ™
                                    <span>(9&nbsp;æ¯«å‡ )</span>
                                    </span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">ç›</div>
                                    <span>å°‘è®¸</span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">ç™½ç ‚ç³–</div>
                                    <span class="weight">1&nbsp;èŒ¶åŒ™
                                    <span>(3&nbsp;å…‹ )</span>
                                    </span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">é¸¡ç²¾</div>
                                    <span>å°‘è®¸</span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">ç™½èƒ¡æ¤’ç²‰</div>
                                    <span class="weight">1&nbsp;å…‹
                                    
                                    </span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">é¦™è¾£é…±</div>
                                    <span class="weight">1&nbsp;æ±¤åŒ™
                                    <span>(15&nbsp;å…‹ )</span>
                                    </span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">å§œç‰‡</div>
                                    <span class="weight">5&nbsp;ç‰‡
                                    <span>(5&nbsp;å…‹ )</span>
                                    </span>
                                    
                                </li><li>
                                    <div style="width: 300px;float: left;padding-left: 55px">è’œç“£</div>
                                    <span class="weight">5&nbsp;ç“£
                                    <span>(25&nbsp;å…‹ )</span>
                                    </span>
                                    
                                </li><li style="width: 100%;">
                                    <div style="width: 300px;float: left;padding-left: 55px">æ°´é‡</div>
                                    <span class="weight">200&nbsp;æ¯«å‡
                                    
                                    </span>
                                    
                                </li>
                            </ul>
                            <a href="javascript:menu_detail.nutritionalView()">
                                <div class="btn_s">æŸ¥çœ‹è¥å…»è§†å›¾</div>
                            </a>
                        </div>
                        <div class="tab-panel">
                            <ul class="clearfix">
                                <li>èƒ½é‡: 722.49kcal</li><li>è›‹ç™½è´¨: 50.71g</li><li>è„‚è‚ª: 51.70g</li><li>ç¢³æ°´åŒ–åˆç‰©: 14.64g</li><li>è†³é£Ÿçº¤ç»´: 2.06g</li><li>èƒ†å›ºé†‡: 249.40mg</li><li>ç»´ç”Ÿç´ A: 82.45Î¼g</li><li>èƒ¡èåœç´ : 301.60Î¼g</li><li>ç»´ç”Ÿç´ B1: 0.15mg</li><li>ç»´ç”Ÿç´ B2: 0.42mg</li><li>ç»´ç”Ÿç´ B3: 8.94mg</li><li>ç»´ç”Ÿç´ B6: 0.44mg</li><li>ç»´ç”Ÿç´ C: 32.64mg</li><li>ç»´ç”Ÿç´ E: 11.32mg</li><li>ç»´ç”Ÿç´ K: 7.15Î¼g</li><li>å¶é…¸: 17.30Î¼g</li><li>é’™: 183.94mg</li><li>ç£·: 659.14mg</li><li>ç£·: 1161.32mg</li><li>é’ : 2022.75mg</li><li>é•: 148.14mg</li><li>é“: 6.55mg</li><li>é”Œ: 3.47mg</li><li>ç¡’: 20.57Î¼g</li><li>é“œ: 0.32mg</li><li>é”°: 0.58mg</li><li>ç¢˜: 23.62Î¼g</li><li>å˜Œå‘¤: 410.93mol</li>
                            </ul>
                            <a href="javascript:menu_detail.nutritionalView()" class="btn-more">æŸ¥çœ‹å®Œæ•´è¥å…»ä¿¡æ¯</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="m-step">
                <div style="margin-left: 40px;font-family: PingFangSC-Regular;font-size: 28px;color: #9A9BB3;">
                    <div class="cook-step">çƒ¹é¥ªæ­¥éª¤</div>
                </div>
                <ul>
                    <li>
                        
                        <b>1</b>
                        <p>è´­ä¹°å¦‚å›¾æ‰€ç¤ºé£Ÿæã€‚</p>
                    </li><li>
                        <div class="img-wrap">
                            <img onerror="commJs.imgError(this)" src="./assets_files/2.jpg">
                        </div>
                        <b>2</b>
                        <p>é’æ¤’å’Œçº¢æ¤’åˆ‡åœˆï¼›è‰é±¼æ´—å‡€ã€åˆ‡å—ï¼Œæ”¾å…¥æ–™é…’1å¤§å‹ºï¼Œå§œ10ç‰‡ï¼Œå¤§è‘±1æ®µè…Œ20åˆ†é’Ÿã€‚</p>
                    </li><li>
                        <div class="img-wrap">
                            <img onerror="commJs.imgError(this)" src="./assets_files/3.jpg">
                        </div>
                        <b>3</b>
                        <p>å°†è°ƒæ–™å…¨éƒ¨åŠ å…¥é”…ä¸­æ…æ‹Œå‡åŒ€ï¼Œå¯åŠ¨çƒ¹é¥ªã€‚</p>
                    </li><li>
                        <div class="img-wrap">
                            <img onerror="commJs.imgError(this)" src="./assets_files/4.jpg">
                        </div>
                        <b>4</b>
                        <p>æç¤ºå®Œæˆåï¼Œæ…æ‹Œå‡åŒ€å‡ºé”…ã€‚</p>
                    </li>
                </ul>
            </div>
            <div class="m-comments">
                <a class="andriod">æˆ‘è¦ç•™è¨€&nbsp;&nbsp;<i class="spr-comment" style="margin-bottom: 6px"></i></a>
                <h2 style=" padding: 70px 0 15px 0;">
                    <span class="comm-title">ç”¨æˆ·è¯„è®º</span>
                    <span class="comm-num">å…±6æ¡</span>
                </h2>
                <ul class="news" id="news">
                    <li>
                        <img src="./assets_files/132">
                        <span class="name">linuxerç¨‹ğŸ€</span>
                        <p class="content">è¿™é“èœå› è¯¥ä¸é€‚åˆå­•å¦‡</p>
                        <span class="time">2017/5/25</span>
                        
                    </li><li>
                        <img src="./assets_files/132">
                        <span class="name">linuxerç¨‹ğŸ€</span>
                        <p class="content">è¿™é“èœä¸é€‚åˆå­•å¦‡ï¼Œå¤ªè¾£äº†</p>
                        <span class="time">2017/5/25</span>
                        
                    </li><li>
                        <img src="./assets_files/132(1)">
                        <span class="name">å‘¨å®—æ—­ Benny</span>
                        <p class="content">æŒºå¥½åƒï¼Œç¡®å®æ–¹ä¾¿ï¼Œæ¯”è¾ƒä¾¿æ·</p>
                        <span class="time">2017/6/9</span>
                        
                    </li><li>
                        <img src="./assets_files/132(2)">
                        <span class="name">æ¨åº”å½¬ Ben Yang</span>
                        <p class="content">è§‰å¾—åœ¨å¤–é¢åƒäºå¤§äº†ï¼Œçœ‹èµ·æ¥å¾ˆç®€å•å•Š</p>
                        <span class="time">2017/6/13</span>
                        
                    </li><li>
                        <img src="./assets_files/132(3)">
                        <span class="name">å­Ÿå¾·é¾™</span>
                        <p class="content">å¿ƒæœå£æœ~~è¯¶,ä¸è¯´äº†,è·¨ç•Œå½“é“,æˆ‘ä¹Ÿå»å¨æˆ¿å†™è¯—äº†(à¹‘â€¾ ê‡´ â€¾à¹‘)</p>
                        <span class="time">2017/6/20</span>
                        
                    </li><li>
                        <img src="./assets_files/0">
                        <span class="name">ğŸš¬DanğŸ¾</span>
                        <p class="content">è¿™é±¼è¦å…ˆç”¨åˆ«çš„é”…ç‚¸ä¸€ä¸‹å—ï¼Ÿ
</p>
                        <span class="time">2017/8/10</span>
                        <ul class="reply-list">
                            <li>
                                <!-- <img src="http://ce-cdn.midea.com/ccs/cookbook/3.6.11/img/logo.png" style=""> -->
                                <span class="reply-name">ç®¡ç†å‘˜<span class="time">2017/8/10</span></span>
                                <p class="content">ä½ å¥½ï¼Œå‚è€ƒé£Ÿè°±è¯¦æƒ…æ“ä½œå³å¯å“¦~</p>

                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="g-btn" id="g-btn" style="display: block !important">
                <a href="javascript:menu_detail.postCollectionAdd();" class="fl collection">
                    <!-- <i class="spr-btn-fav"></i><i class="spr-btn-fav-w"></i>æ”¶è—é£Ÿè°±-->
                    <i class="spr-unCollected"></i><i class="spr-btn-fav-w"></i>æ”¶è—é£Ÿè°±
                </a>
                
                <a href="javascript:menu_detail.sendDeviceAction();" class="fl startWork">
                    <!--<i class="spr-btn-send"></i><i class="spr-btn-send-w"></i>-->
                    <span>é©¬ä¸Šçƒ¹é¥ª</span>
                    
                </a>
            </div>
            <div id="spinner" style="position: fixed;display:none;bottom: 180px;left: 25%;font-weight: 900;background-color: rgba(80, 80, 90, 0.22);padding-top: 20px;padding-bottom: 20px;padding-left: 100px;padding-right: 100px;border-radius: 15px;">
                æ­£åœ¨åŠ è½½...
            </div>
        </div>
    </div>
    <!-- è®¾å¤‡åˆ—è¡¨å¼¹çª— -->
    <div class="g-pop" id="j_pop_sel_device">
        <div class="m-hd">
            <div class="spr-send"></div>
            <p>è¯·é€‰æ‹©å‘é€è®¾å¤‡çš„æ“ä½œ</p>
        </div>
        <ul id="j_device_list" v-cloak="">
            <li v-for="item in items" :class="{ &#39;selected&#39;: $index === 0 }" data-index="{{$index}}">
                <span></span>
                <label>{{ item.name }}</label>
            </li>
        </ul>
        <div class="m-btn">
            <a href="javascript:menu_detail.selectDevice(menu_detail.vueObj.deviceList[menu_detail.vueObj.deviceSelected].virtualId);" v-if="flag == 1">ä¸‹ä¸€æ­¥</a>
            <a href="javascript:menu_detail.selectDevice(menu_detail.vueObj.deviceList[menu_detail.vueObj.deviceSelected].applianceId);" v-else="">ä¸‹ä¸€æ­¥</a>
            <a href="javascript:commJs.Dialog.close()">å–æ¶ˆ</a>
        </div>
    </div>
    <!--è¯¢é—®ç”¨æˆ·æ˜¯å¦åœæ­¢å½“å‰å·¥ä½œ å¼¹çª—-->
    <div class="s-load" id="S_loading" style="display: none;">
        <div class="ss-loadtext">
            <i class="iconfont"></i>
            <a href="javascript:menu_detail.payAttention(&#39;attention_close&#39;)">
                <div id="S_loadtxt" style="position: absolute;right: 30px;top: 20px;"><i class="spr-close"></i></div>
            </a>
            <div><img src="./assets_files/erweima.png"></div>
        </div>
    </div>
    <div class="g-pop-dialog " id="showShareTips" style="display: none;">
        <h2>æç¤º</h2>
        <div class="m-con">
            <p>åˆ†äº«é¡µæš‚ä¸æ”¯æŒçƒ¹é¥ªï¼Œå¯è¿›å…¥æˆ‘çš„å®¶ç”µé¡µæ“ä½œ</p>
        </div>
        <div class="m-btn">
            <a href="javascript:commJs.Dialog.close()">å¥½çš„</a>
        </div>
    </div>
    <div class="g-pop-dialog " id="j_pop_dialog" style="display: none;">
        <h2>æç¤º</h2>
        <div class="m-con">
            <p>è®¾å¤‡å·²ç»åœ¨å·¥ä½œäº†ï¼Œè¦åœæ­¢å½“å‰å·¥ä½œæ‰èƒ½ç»§ç»­ï¼Œæ˜¯å¦è¦åœæ­¢å½“å‰å·¥ä½œï¼Ÿ</p>
        </div>
        <div class="m-btn">
            <a href="javascript:commJs.Dialog.close();">æš‚ä¸éœ€è¦</a>
            <a href="javascript:menu_detail.postCancelWork(menu_detail.vueObj.deviceList[menu_detail.vueObj.deviceSelected].deviceId,menu_detail.vueObj.deviceList[menu_detail.vueObj.deviceSelected].virtualId);commJs.Dialog.close()" v-if="flag == 1">å¥½çš„</a>
            <!--<a href="javascript:menu_detail.postCancelWork(menu_detail.vueObj.deviceList[menu_detail.vueObj.deviceSelected].applianceId);commJs.Dialog.close()" v-else>å¥½çš„</a>-->
        </div>
    </div>
    <div class="s-load" id="J_loading" style="display: none">
        <div class="cc-loadtext">
            <i class="iconfont"></i>
            <span id="J_loadtxt" style="color: white">è¯·ç¨å..</span>
        </div>
    </div>
    <div id="dialog-mask">

    </div>
    <script src="./assets_files/wxconfig"></script>
    <script src="./assets_files/vue.min.js"></script>
    <script src="./assets_files/comm.js"></script>
    <script src="./assets_files/data.js"></script>
    <script src="./assets_files/store.min.js"></script>
    <script>
        var menu_detail = {
            init: function () {
                commJs.userInformation(this.successCallback);
                if (!commJs.userInfo.deviceType) {
                    commJs.getDeviceListFromMenuId();
                }
                if (!window.localStorage.getItem('tag')) {
                    document.getElementById('fixTop').style.display = 'block';
                }
                commJs.Loading();

            },
            successCallback: function () {
                commJs.tab({ elmId: 'm_tab' });
                menu_detail.vueObj = new Vue({
                    el: '.g-bd',
                    data: {
                        AT: commJs.getUrlParam('AT'),
                        flag: 1,
                        // historyLen: history.length,
                        diy: menuStyle.diy,
                        recipeType: commJs.getUrlParam('unWifi') ? commJs.getUrlParam('unWifi') : menuStyle.wifi,
                        createTime: '',
                        localTime: '',
                        id: '',
                        pic: '',
                        title: '',
                        intro: '',
                        fit: '',
                        menuIngrediens: [],
                        nutritions: {},
                        cookHour: '',
                        cookMinute: '',
                        stepDisciptions: [],
                        collection: '',
                        consumer: [],
                        deviceSelected: 0,
                        deviceList: [{ deviceId: commJs.userInfo.deviceId }],
                        applianceCategory: 0,
                        materialNum: 1,
                        deviceType: '',
                        modelNo: '',
                        collectCounts: '',
                        meiju: (commJs.getUrlParam('flag') == commJs.environment.mSmartMain || commJs.getUrlParam('flag') == commJs.environment.mSmartControl),
                        meijuMain: (commJs.getUrlParam('flag') == commJs.environment.mSmartMain),
                        android: /android/.test(navigator.userAgent.toLowerCase()),
                        index: 1,
                        comments: [],
                        totalcomment: 0,
                        pageNo: 0,
                        totalPageCount: 0,
                        likeCounts: "",
                        hideCook: false,
                        collecting: false,
                        effectTypeList: effectTypeList,
                        peopleTypeList: peopleTypeList,
                        effectType: [],
                        peopleType: [],
                        workingDevice: 0
                    },
                    methods: {
                        goComment: function () {
                            MtaH5.clickStat('menu_comment');
                            commJs.ajax({
                                urlType: 10,
                                type: 'POST',
                                url: '/v1/crm/reg/check',
                                data: {
                                    openId: commJs.userInfo.openId,
                                    userId: commJs.userInfo.userId
                                },
                                success: function (data) {
                                    if (data.isReg != 0) {
                                        window.location.replace("https://passport.midea.com/v3/login_code?channelFrom=MEISHIHUI&system=meishao&openId=" + data.openId + "&redirect=" + encodeURIComponent(location.href));
                                    } else {
                                        commJs.jumpUrl('http://living.midea.com/ccs/cookbook/3.6.11/' + 'makeComments.html?AT=' + commJs.getUrlParam('AT') + '&menuId=' + menu_detail.vueObj.id);
                                    }
                                },
                                error: function (data) {

                                }
                            });
                        },
                        countlyPush(recommendName) {
                            Countly.add_event({ 'key': recommendName, 'count': 1 });
                        }
                    },
                    watch: {
                        'menuIngrediens': function () {
                            //é£Ÿææ­é…çš„åˆ—è¡¨ï¼Œå•æ•°çš„æ—¶å€™æœ€åä¸€ä¸ªliå®½åº¦100%
                            var materialList = document.getElementsByClassName('m-material')[0].getElementsByTagName('ul');
                            for (var i = 0; i < materialList.length; i++) {
                                var li = materialList[i].getElementsByTagName('li');
                                if (li.length % 2 != 0) {
                                    li[li.length - 1].style.width = 100 + '%';
                                }
                            }
                        }
                    }
                });
                menu_detail.getComments(1);
                //menu_detail.judgeWetherPossessDeviceList();
                menu_detail.vueObj.flag = (commJs.getUrlParam('flag') == commJs.environment.mSmartMain || commJs.getUrlParam('flag') == commJs.environment.mSmartControl) ? 0 : 1;

                commJs.collectEnterPage(commJs.userInfo.userId, commJs.userInfo.openId);
                if (menu_detail.vueObj.recipeType == menuStyle.wifi) {
                    menu_detail.getMenuDetail();
                } else {
                    menu_detail.getUserMenuDetail();
                }

                menu_detail.counter();
                window.addEventListener('scroll', function () {
                    var pageHeight = Math.max(document.body.scrollHeight, document.body.offsetHeight);
                    var viewportHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight || 0;
                    var scrollHeight = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
                    if (pageHeight - viewportHeight - scrollHeight < 5 && menu_detail.vueObj.pageNo < menu_detail.vueObj.totalPageCount) {
                        document.getElementById('spinner').style.display = 'block';
                        setTimeout(function () {
                            document.getElementById('spinner').style.display = 'none';
                            menu_detail.getComments(++menu_detail.vueObj.index)
                        }, 1000);
                    }
                });

            },
            counter: function () {
                var count = menu_detail.vueObj.materialNum;
                var that = document.getElementsByClassName('m-counter')[0];
            },
            vueObj: null,
            //ç¾é£Ÿæ±‡2.0-è·å–èœè°±è¯¦æƒ…æ¥å£
            getMenuDetail: function () {
                commJs.ajax({
                    urlType: 0,
                    type: 'GET',
                    url: '/menu/detail/' + commJs.getUrlParam('menuId') + '/' + commJs.userInfo.userId + '/' + commJs.userInfo.openId + '/' + commJs.getUrlParam('from'),
                    data: {},
                    success: function (data) {
                        //å°†è‹±æ–‡è¥å…»è§†å›¾å¤„ç†æˆä¸­æ–‡
                        var chnNutritions = [];
                        for (var key in data.nutritions) {
                            for (var i = 0; i < dataNutritions.length; i++) {
                                var chnObj = dataNutritions[i];
                                var chnValue = '';
                                for (var chnKey in chnObj) {
                                    chnValue = chnObj[chnKey];
                                }
                                var unitObj = dataNutritionsUnit[i];
                                var unitValue = '';
                                for (var unitKey in unitObj) {
                                    unitValue = unitObj[unitKey];
                                }

                                if (key == chnKey) {
                                    chnNutritions[i] = { num: data.nutritions[key].toFixed(2) + unitValue, name: chnValue };
                                }
                            }
                        }

                        var stepList = [];
                        if (data.menu) {
                            menu_detail.vueObj.likeCounts = data.menu.likeCounts;
                            menu_detail.vueObj.localTime = data.menu.createTime;
                            menu_detail.vueObj.collectCounts = data.menu.collectCounts;
                            menu_detail.vueObj.id = data.menu.id;
                            menu_detail.vueObj.pic = 'http://ce-cdn.midea.com/ccs/cookbook/' + data.menu.mainPicture + mainPicParams;
                            menu_detail.vueObj.title = data.menu.menuName;
                            menu_detail.vueObj.intro = data.menu.description;
                            menu_detail.vueObj.cookHour = parseInt(parseInt(data.menu.cookTime) / 60);
                            menu_detail.vueObj.cookMinute = parseInt(data.menu.cookTime) % 60;
                            menu_detail.vueObj.applianceCategory = applianceList[data.menu.applianceCategory]; //èœè°±ç±»åˆ«
                            menu_detail.vueObj.menuIngrediens = data.menuIngrediens;
                            stepList = data.stepDisciptions;
                            var timestamp3 = data.menu.createTime;
                            var newDate = new Date();
                            newDate.setTime(timestamp3);
                            menu_detail.vueObj.createTime = newDate.toLocaleString();
                        } else {
                            menu_detail.vueObj.id = data.menuTopic.id;
                            menu_detail.vueObj.pic = 'http://ce-cdn.midea.com/ccs/cookbook/' + data.menuTopic.mainPicture + mainPicParams;
                            menu_detail.vueObj.collectCounts = data.menu.collectCounts;
                            menu_detail.vueObj.title = data.menuTopic.menuName;
                            menu_detail.vueObj.intro = data.menuTopic.description;
                            menu_detail.vueObj.cookHour = parseInt(data.menu.cookTime) / 60;
                            menu_detail.vueObj.cookMinute = parseInt(data.menu.cookTime) % 60;
                            menu_detail.vueObj.applianceCategory = applianceList[data.menu.applianceCategory]; //èœè°±ç±»åˆ«
                            menu_detail.vueObj.menuIngrediens = data.menuIngredienses;
                            stepList = data.stepDisciptionList;
                        }
                        if (data.menuClassification) {
                            menu_detail.vueObj.effectType = data.menuClassification.effectType.split(",");
                            menu_detail.vueObj.effectType.shift();
                            menu_detail.vueObj.effectType.pop();
                            menu_detail.vueObj.effectType = menu_detail.vueObj.effectType.slice(0, 2);
                            menu_detail.vueObj.peopleType = data.menuClassification.peopleType.split(",");
                            menu_detail.vueObj.peopleType.shift();
                            menu_detail.vueObj.peopleType.pop();
                            menu_detail.vueObj.peopleType = menu_detail.vueObj.peopleType.slice(0, 1);
                        }
                        //å°†é£Ÿæè®¡é‡å•ä½å¤„ç†æˆä¸­æ–‡
                        for (var i = 0; i < menu_detail.vueObj.menuIngrediens.length; i++) {
                            var obj = menu_detail.vueObj.menuIngrediens[i];
                            obj.unitWeight = obj.weight; //æ¯ä»½çš„é‡é‡
                            obj.unitAcurateWeight = obj.accurateWeight;
                            if (parseFloat(obj.weight) == 0 && parseFloat(obj.accurateWeight) == 0) {
                                obj.unit = '';
                            } else {
                                if (parseFloat(obj.weight) == 0) {
                                    obj.weight = obj.accurateWeight
                                }
                                obj.unit = obj.generalUnit ? dataMaterialUnit[obj.generalUnit - 1] : dataMaterialUnit[obj.accurateUnit - 1];
                                obj.accurateUnit = dataMaterialUnit[obj.accurateUnit - 1];
                                // if (obj.weight == obj.accurateWeight) {
                                //     obj.unit = obj.accurateUnit
                                // }
                            }
                        }


                        menu_detail.vueObj.fit = data.peopleTypeName;
                        menu_detail.vueObj.nutritions = chnNutritions;
                        menu_detail.vueObj.collection = data.collection;
                        for (var i = 0; i < stepList.length; i++) {
                            var obj = stepList[i];
                            obj.picUrl = !obj.picUrl ? '#' : 'http://ce-cdn.midea.com/ccs/cookbook/' + obj.picUrl + stepsPicParams;
                        }
                        menu_detail.vueObj.stepDisciptions = stepList;
                        /******************å¾®ä¿¡åˆ†äº«ï¼Œmenu_detail.vueObj.titleä¸ºæ ‡é¢˜ï¼Œmenu_detail.vueObj.introä¸ºè¯¦æƒ…ä»‹ç»***********************/
                        /*commJs.setWxShare('ç¾å‹º-'+menu_detail.vueObj.title,menu_detail.vueObj.intro);*/
                        commJs.setWxShare('ç¾å‹ºé£Ÿè°±-' + menu_detail.vueObj.title, 'ç¾çš„è¥å…»ä¸çƒ¹é¥ªç ”ç©¶å®éªŒå®¤ç²¾å¿ƒç ”åˆ¶', menu_detail.vueObj.pic, false, 'ofc');

                        /****æ•°æ®åŸ‹ç‚¹****/
                        MtaH5.clickStat('browse', { 'browse': menu_detail.vueObj.title });
                        if (commJs.getUrlParam('from') == 'default') {
                            MtaH5.clickStat('default', { 'default': menu_detail.vueObj.title });
                        } else {
                            MtaH5.clickStat('control', { 'control': menu_detail.vueObj.title });
                        }
                    },
                    error: function () { }
                });
            },
            //ç¾é£Ÿæ±‡2.0-èœè°±æ”¶è—æ·»åŠ æ¥å£
            postCollectionAdd: function () {
                if (menu_detail.vueObj.collecting) {
                    return;
                }
                menu_detail.vueObj.collecting = true;
                if (commJs.platformSource == 'mSmart') {
                    commJs.ajax({
                        urlType: 0,
                        type: 'PUT',
                        url: '/menu/collection/add',
                        data: {
                            'platformSource': commJs.platformSource,
                            'uid': commJs.userInfo.userId,
                            'openId': commJs.userInfo.openId,
                            'menuId': commJs.getUrlParam('menuId')
                        },
                        success: function (data) {
                            ++menu_detail.vueObj.collectCounts;
                            MtaH5.clickStat('collection', { 'collection': menu_detail.vueObj.title });
                            menu_detail.vueObj.collection = true;
                            menu_detail.vueObj.$set('collection', true);
                            alert('é£Ÿè°±æ”¶è—æˆåŠŸ');
                            menu_detail.vueObj.collecting = false;
                        },
                        error: function (msg) {
                            alert(msg);
                            menu_detail.vueObj.collecting = false;
                        }
                    });
                } else {
                    commJs.ajax({
                        urlType: 10,
                        type: 'POST',
                        url: '/v1/crm/reg/check',
                        data: {
                            openId: commJs.userInfo.openId,
                            userId: commJs.userInfo.userId
                        },
                        success: function (data) {
                            console.log(data);
                            if (data.isReg != 0) {
                                window.location.replace("https://passport.midea.com/v3/login_code?channelFrom=MEISHIHUI&system=meishao&openId=" + data.openId + "&redirect=" + encodeURIComponent(location.href));
                            } else {
                                commJs.ajax({
                                    urlType: 0,
                                    type: 'PUT',
                                    url: '/menu/collection/add',
                                    data: {
                                        'platformSource': commJs.platformSource,
                                        'uid': commJs.userInfo.userId,
                                        'openId': commJs.userInfo.openId,
                                        'menuId': commJs.getUrlParam('menuId')
                                    },
                                    success: function (data) {
                                        ++menu_detail.vueObj.collectCounts;
                                        MtaH5.clickStat('collection', { 'collection': menu_detail.vueObj.title });
                                        menu_detail.vueObj.collection = true;
                                        menu_detail.vueObj.$set('collection', true);
                                        alert('é£Ÿè°±æ”¶è—æˆåŠŸ<br>å¯åœ¨â€œä¸ªäººä¸­å¿ƒ-æˆ‘çš„é£Ÿè°±â€æŸ¥çœ‹');
                                        menu_detail.vueObj.collecting = false;
                                    },
                                    error: function (msg) {
                                        alert(msg);
                                        menu_detail.vueObj.collecting = false;
                                    }
                                });
                            }
                        },
                        error: function (data) {

                        }
                    });
                }
            },
            //ç¾é£Ÿæ±‡2.0-èœè°±æ”¶è—æ‰¹é‡åˆ é™¤æ¥å£
            postCollectionDelete: function () {
                if (menu_detail.vueObj.collecting) {
                    return;
                }
                menu_detail.vueObj.collecting = true;
                if (commJs.platformSource == 'mSmart') {
                    commJs.ajax({
                        urlType: 0,
                        type: 'PUT',
                        url: '/menu/collection/delete',
                        data: {
                            'uid': commJs.userInfo.userId,
                            'menuIdList': JSON.stringify([commJs.getUrlParam('menuId')])
                        },
                        success: function (data) {
                            --menu_detail.vueObj.collectCounts;
                            menu_detail.vueObj.collection = false;
                            menu_detail.vueObj.$set('collection', false);
                            alert('å·²å–æ¶ˆæ”¶è—é£Ÿè°±');
                            menu_detail.vueObj.collecting = false;
                        },
                        error: function () {
                            menu_detail.vueObj.collecting = false;
                        }
                    });
                } else {
                    commJs.ajax({
                        urlType: 10,
                        type: 'POST',
                        url: '/v1/crm/reg/check',
                        data: {
                            openId: commJs.userInfo.openId,
                            userId: commJs.userInfo.userId
                        },
                        success: function (data) {
                            if (data.isReg != 0) {
                                window.location.replace("https://passport.midea.com/v3/login_code?channelFrom=MEISHIHUI&system=meishao&openId=" + data.openId + "&redirect=" + encodeURIComponent(location.href));
                            } else {
                                commJs.ajax({
                                    urlType: 0,
                                    type: 'PUT',
                                    url: '/menu/collection/delete',
                                    data: {
                                        'uid': commJs.userInfo.userId,
                                        'menuIdList': JSON.stringify([commJs.getUrlParam('menuId')])
                                    },
                                    success: function (data) {
                                        --menu_detail.vueObj.collectCounts;
                                        menu_detail.vueObj.collection = false;
                                        menu_detail.vueObj.$set('collection', false);
                                        alert('å·²å–æ¶ˆæ”¶è—é£Ÿè°±');
                                        menu_detail.vueObj.collecting = false;
                                    },
                                    error: function () {
                                        menu_detail.vueObj.collecting = false;
                                    }
                                });
                            }
                        },
                        error: function (data) {

                        }
                    });
                }
            },
            //ç¾é£Ÿèœè°±ä¸Šé¢ç‚¹å‡»çƒ¹é¥ªçš„æ¥å£
            postStartWork: function (deviceId) {
                var d = document.getElementById('__cimi_dialog_mask');
                d.onclick = function () {
                    history.go(-1);
                }
                commJs.ajax({
                    urlType: 3,
                    type: 'POST',
                    url: '/menu/startWork',
                    data: {
                        'userId': commJs.userInfo.userId,
                        menuId: commJs.getUrlParam('menuId'),
                        virtualId: deviceId,
                        time: 0,
                        'currentTime': Date.parse(new Date())
                    },
                    success: function (data) {
                        if ((commJs.getUrlParam('flag') == commJs.environment.mSmartControl)) {
                            window.history.go(0 - (window.history.length - 1));
                        } else {
                            if ((commJs.getUrlParam('flag') == commJs.environment.mSmartMain)) {
                                alert('æŒ‡ä»¤å‘é€æˆåŠŸ,è®¾å¤‡å·²ç»å¼€å§‹å·¥ä½œ');
                                commJs.Dialog.close();
                            } else {
                                //menu_detail.deviceEnter(deviceId);
                                window.history.go(-1);
                            }
                        }
                    },
                    error: function (data) {
                        if (data.errorCode == 2) {
                            //è®¾å¤‡å·²ç»åœ¨å·¥ä½œä¸­ï¼Œæé†’ç”¨æˆ·å–æ¶ˆå·¥ä½œ
                            commJs.Dialog.show('j_pop_dialog', diaglog.show);
                            menu_detail.vueObj.workingDevice = deviceId;
                        } else if (data.errorCode == 1) {
                            alert('è®¾å¤‡å¯åŠ¨å¤±è´¥');
                            commJs.Dialog.close();
                        } else if (data.errorCode == 3) {
                            alert('è®¾å¤‡å…³æœºï¼Œè¯·æ‰‹åŠ¨å¯åŠ¨è®¾å¤‡');
                            commJs.Dialog.close();
                        } else if (data.errorCode == 9903) {
                            commJs.Dialog.close();
                            alert('æ— æ³•è¿æ¥è®¾å¤‡ï¼Œè¯·æ‰‹åŠ¨å¯åŠ¨è®¾å¤‡');
                            setTimeout(() => {
                                window.history.go(-1);
                            }, 3000);
                        }
                    }
                });
            },
            //ç¾é£Ÿæ±‡2.0-è®¾å¤‡å–æ¶ˆå·¥ä½œæ¥å£
            postCancelWork: function (virtualId, optionalVirtualId) {
                console.log(virtualId, optionalVirtualId, menu_detail.vueObj.workingDevice);
                commJs.ajax({
                    urlType: 3,
                    type: 'POST',
                    url: '/menu/cancelWork',
                    data: {
                        'userId': commJs.userInfo.userId,
                        virtualId: virtualId || optionalVirtualId || menu_detail.vueObj.workingDevice,
                        'currentTime': Date.parse(new Date())
                    },
                    success: function (data) {
                        alert('æŒ‡ä»¤å‘é€æˆåŠŸ');
                    },
                    error: function (data) {
                        alert('æŒ‡ä»¤å‘é€å¤±è´¥');
                    }
                });
            },
            //è¿‡æ»¤è®¾å¤‡å‹å·
            fliter: function (deviceList) {
                var attr;
                var deviceListArray = [];
                console.log(deviceList);
                for (attr in deviceList) {
                    if (commJs.userInfo.deviceType) {
                        if (deviceList[attr].type != ('0x' + commJs.userInfo.deviceType) || deviceList[attr].onlineStatus == 'false') {
                            //delete deviceList[attr];
                        } else {
                            deviceListArray.push(deviceList[attr]);
                        }
                    } else {
                        if (deviceList[attr].onlineStatus == 'true' || deviceList[attr].onlineStatus == true) {
                            console.log(commJs.deviceListFromMenuId, deviceList[attr].devSN.substring(9, 17));
                            if (commJs.arrayInclude(commJs.deviceListFromMenuId, deviceList[attr].devSN.substring(9, 17))) {
                                deviceListArray.push(deviceList[attr]);
                            }
                        }
                    }
                }
                console.log('deviceListArray:' + deviceListArray)
                return deviceListArray;
            },
            //å‘é€è®¾å¤‡æŒ‰é’®äº‹ä»¶
            sendDeviceAction: function () {
                // alert(JSON.parse(sessionStorage.getItem("cookbook-userInfo")).deviceType);
                // alert(commJs.userInfo.deviceId)
                // if(menu_detail.vueObj.historyLen == 1){
                //     commJs.Dialog.show('showShareTips', diaglog.show);
                //     return;
                // }
                MtaH5.clickStat("cook");
                //å¦‚æœæ˜¯ä»è®¾å¤‡ç«¯è¿›å…¥ç¾é£Ÿæ±‡åˆ™ç›´æ¥å¯åŠ¨
                if (commJs.userInfo.deviceId && commJs.userInfo.deviceId != 'null') {
                    menu_detail.selectDevice(commJs.userInfo.deviceId);
                    return;
                }
                //è¯¥æ ‡è®°è¯´æ˜æ˜¯ä»ç¾å±…è¿›å…¥ç¾é£Ÿæ±‡
                if ((commJs.getUrlParam('flag') == commJs.environment.mSmartMain || commJs.getUrlParam('flag') == commJs.environment.mSmartControl)) {
                    var deviceList;
                    mdSmartios.bridge.getUserApplianceList(function (deviceListData) {
                        deviceList = deviceListData;
                        if (commJs.getUrlParam('flag') == commJs.environment.mSmartMain) {
                            var data = menu_detail.fliter(deviceList);
                            console.log(data);
                            if (data.length == 0) {
                                alert('äº²ï¼Œæ²¡æœ‰é€‚ç”¨çš„å®¶ç”µ');
                            } else if (data.length == 1) {
                                menu_detail.selectDevice(data[0].applianceId);
                            } else {
                                var vueObj = new Vue({
                                    el: '#j_pop_sel_device',
                                    data: {
                                        flag: (commJs.getUrlParam('flag') == commJs.environment.mSmartMain || commJs.getUrlParam('flag') == commJs.environment.mSmartControl) ? 0 : 1,
                                        items: []
                                    },
                                    watch: {
                                        'items': function () {
                                            //è®¾å¤‡é€‰ä¸­ç‚¹å‡»äº‹ä»¶
                                            var list = document.getElementById('j_device_list').getElementsByTagName('li');
                                            for (var i = 0; i < list.length; i++) {
                                                var obj = list[i];
                                                document.addEvent(obj, 'click', function () {
                                                    menu_detail.vueObj.deviceSelected = this.dataset.index;
                                                    for (var j = 0; j < list.length; j++) {
                                                        var obj = list[j];
                                                        obj.setAttribute('class', '');
                                                    }
                                                    this.setAttribute('class', 'selected');
                                                });
                                            }
                                        }
                                    }
                                });
                                vueObj.items = data;
                                menu_detail.vueObj.deviceList = data;
                                commJs.Dialog.show('j_pop_sel_device', diaglog.show);
                            }
                        } else if (commJs.getUrlParam('flag') == commJs.environment.mSmartControl) {
                            var data = deviceList;
                            var deviceId = commJs.getUrlParam('deviceId')
                            var deviceType = '0x' + JSON.parse(sessionStorage.getItem("cookbook-userInfo")).deviceType;
                            console.log(deviceList);
                            var i = 0;
                            // for(i in deviceList){
                            //     if (deviceList[i].type == deviceType) {
                            //         deviceId = deviceList[i].applianceId;
                            //     }
                            // }

                            // for(var i = 0; i < deviceList.length; i++){
                            //     if(deviceList['Appliance' + i].type == deviceType) {
                            //         deviceId = deviceList['Appliance' + i].applianceId;
                            //     }
                            // }
                            console.log(deviceId);
                            menu_detail.selectDevice(deviceId);
                        }
                        // alert("error list:" + JSON.stringify(deviceList));

                        // alert("error data:" + data.length);

                    });
                } else {
                    menu_detail.getDeviceList();
                }

            },
            //ç¾é£Ÿæ±‡2.0-è·å–ç”¨æˆ·è®¾å¤‡åˆ—è¡¨æ¥å£
            getDeviceList: function () {
                var vueObj = new Vue({
                    el: '#j_pop_sel_device',
                    data: {
                        flag: (commJs.getUrlParam('flag') == commJs.environment.mSmartMain || commJs.getUrlParam('flag') == commJs.environment.mSmartControl) ? 0 : 1,
                        items: []
                    },
                    watch: {
                        'items': function () {
                            //è®¾å¤‡é€‰ä¸­ç‚¹å‡»äº‹ä»¶
                            var list = document.getElementById('j_device_list').getElementsByTagName('li');
                            for (var i = 0; i < list.length; i++) {
                                var obj = list[i];
                                document.addEvent(obj, 'click', function () {
                                    menu_detail.vueObj.deviceSelected = this.dataset.index;
                                    console.log('menu_detail.vueObj.deviceSelected:' + menu_detail.vueObj.deviceSelected);
                                    for (var j = 0; j < list.length; j++) {
                                        var obj = list[j];
                                        obj.setAttribute('class', '');
                                    }
                                    this.setAttribute('class', 'selected');
                                });
                            }
                        }
                    }
                });
                commJs.ajax({
                    urlType: 3,
                    type: 'GET',
                    url: '/menu/getDeviceList/' + commJs.getUrlParam('menuId') + '/' + commJs.userInfo.userId + '/' + commJs.userInfo.openId,
                    data: {},
                    success: function (data) {
                        data = data.result;
                        vueObj.items = data;
                        menu_detail.vueObj.deviceList = data;
                        //åˆ¤æ–­urlé‡Œæ˜¯å¦æœ‰deviceIdå’ŒmodelNoï¼Œå¦‚æœæœ‰ï¼Œå°±ç›´æ¥å‘é€åˆ°å¯¹æ¥çš„deviceï¼Œä¸éœ€è¦å†ç†å®¶ç”µåˆ—è¡¨ã€‚
                        if (commJs.userInfo.deviceId && commJs.userInfo.modelNo) {
                            menu_detail.selectDevice(data[0].virtualId);
                            return;
                        }
                        if (data.length == 0) {
                            alert('äº²ï¼Œæ²¡æœ‰é€‚ç”¨çš„å®¶ç”µ');
                            menu_detail.vueObj.hideCook = true;
                        } else if (data.length == 1) {
                            menu_detail.selectDevice(data[0].virtualId);
                        } else {
                            commJs.Dialog.show('j_pop_sel_device', diaglog.show);
                        }
                    },
                    error: function () {

                    }
                });
            },
            //åˆ¤å®š
            judgeWetherPossessDeviceList: function () {
                commJs.ajax({
                    urlType: 3,
                    type: 'GET',
                    url: '/menu/getDeviceList/' + commJs.getUrlParam('menuId') + '/' + commJs.userInfo.userId + '/' + commJs.userInfo.openId,
                    data: {},
                    success: function (data) {
                        if (data.length == 0) {
                            menu_detail.vueObj.hideCook = true;
                            //                        document.getElementById('g-btn').getElementsByName('collection').style.width='640px';
                            //                        document.getElementById('g-btn').getElementsByName('startWork').style.width='0';
                            //                            for (var i = 0; i < a.length; i++) {
                            //                                a[i].style.width = '640px';
                            //                            }
                            //                            a[a.length-1].style.display='none';
                        }
                    },
                    error: function () {

                    }
                });
            },
            //é€‰æ‹©è®¾å¤‡
            selectDevice: function (deviceId) {
                commJs.Dialog.show('J_loading', diaglog.show);
                menu_detail.postStartWork(deviceId);
            },
            //å±•ç¤ºå®Œæ•´é£Ÿæåˆ—è¡¨
            openNutritionsList: function () {
                var elm = document.getElementsByClassName('m-material')[0].getElementsByTagName('ul')[1];
                if (elm.style.height == 'auto') {
                    elm.style.height = 505 + 'px';
                    document.getElementsByClassName('btn-more')[0].innerHTML = 'æŸ¥çœ‹å®Œæ•´è¥å…»é£Ÿè°±';
                } else {
                    elm.style.height = 'auto';
                    document.getElementsByClassName('btn-more')[0].innerHTML = 'æ”¶èµ·è¥å…»é£Ÿè°±';
                }
            },
            //é£ŸæåŠ å…¥è´­ç‰©æ¸…å•
            addToCart: function () {
                store.set('menuIngrediens', menu_detail.vueObj.menuIngrediens);
                commJs.jumpUrl('http://living.midea.com/ccs/cookbook/3.6.11/' + 'shopping_list.html');
            },
            //å®¶ç”µè·³è½¬æ¥å£
            deviceEnter: function () {
                MtaH5.clickStat('Cook', { 'cook': menu_detail.vueObj.title });
                var deviceId = menu_detail.vueObj.deviceList[menu_detail.vueObj.deviceSelected].virtualId ? menu_detail.vueObj.deviceList[menu_detail.vueObj.deviceSelected].virtualId : commJs.userInfo.deviceId;
                var modelNo = menu_detail.vueObj.deviceList[menu_detail.vueObj.deviceSelected].modelNo ? menu_detail.vueObj.deviceList[menu_detail.vueObj.deviceSelected].modelNo : commJs.userInfo.modelNo;
                var deviceType = menu_detail.vueObj.deviceList[menu_detail.vueObj.deviceSelected].applianceType ? menu_detail.vueObj.deviceList[menu_detail.vueObj.deviceSelected].applianceType : commJs.userInfo.deviceType;

                var cloudMenusHostname = location.hostname;
                if (cloudMenusHostname == 'cemdot.midea.com') {
                    cloudMenusHostname = 'living.midea.com'; //â€˜ç¾é£Ÿæ±‡â€™çš„æ­£å¼ç¯å¢ƒåœ¨ ce3
                }
                window.location = 'http://' + cloudMenusHostname + '/v1/v2/device/enter?' +
                    'deviceType=' + deviceType +
                    '&' + 'modelNo=' + modelNo +
                    '&' + 'deviceId=' + deviceId +
                    '&' + 'userId=' + commJs.userInfo.userId +
                    '&' + 'openId=' + commJs.userInfo.openId +
                    '&' + 'now=' + Date.parse(new Date());
            },

            payAttention: function (flag) {
                if (!window.localStorage.getItem('tag')) window.localStorage.setItem('tag', true);
                if (flag == 'attention') {
                    commJs.Dialog.show('S_loading', diaglog.attention);
                } else if (flag == 'close') {
                    document.getElementById('fixTop').style.display = 'none';
                } else {
                    document.getElementById('fixTop').style.display = 'none';
                    commJs.Dialog.close();
                }

            },
            //åŠ è½½è¯„è®ºæ•°æ®
            getComments: function (index) {
                commJs.ajax({
                    urlType: 7,
                    type: 'GET',
                    url: '/operative-userManager/comment/findAllPageByRelationId',
                    data: {
                        pageNum: index,
                        pageSize: 10,
                        relationId: commJs.getUrlParam('menuId'),
                        contentType: 1
                    },
                    success: function (data) {
                        // ä»Šå¤©
                        var now = new Date();
                        now = Date.parse(now);
                        var today = new Date();
                        today.setHours(0);
                        today.setMinutes(0);
                        today.setSeconds(0);
                        today.setMilliseconds(0);
                        today = Date.parse(today);
                        var oneday = 1000 * 60 * 60 * 24;
                        var yesterday = new Date(today - oneday);
                        yesterday = Date.parse(yesterday);
                        var item = data.data;
                        for (var i in item) {
                            var time = item[i].comment.contentCreatTime;
                            if (time > today) {
                                var hour = now - time;
                                if (hour < 3600000) {
                                    var minute = parseInt(hour / 60000);
                                    item[i].comment.contentCreatTime = minute + 'åˆ†é’Ÿå‰'
                                } else {
                                    hour = parseInt(hour / 3600000);
                                    item[i].comment.contentCreatTime = hour + 'å°æ—¶å‰'
                                }
                            } else if (time > yesterday) item[i].comment.contentCreatTime = 'æ˜¨å¤©';
                            else {
                                var timestamp = time;
                                var newDate = new Date();
                                //                           newDate.setTime(timestamp * 1000);
                                newDate.setTime(timestamp);
                                item[i].comment.contentCreatTime = newDate.toLocaleDateString();
                            }

                            if (item[i].replyCommentList.length > 0) {
                                for (var j in item[i].replyCommentList) {
                                    time = item[i].replyCommentList[j].contentCreatTime;

                                    if (time > today) {
                                        var hour = now - time;
                                        if (hour < 3600000) {
                                            var minute = parseInt(hour / 60000);
                                            item[i].replyCommentList[j].contentCreatTime = minute + 'åˆ†é’Ÿå‰'
                                        } else {
                                            hour = parseInt(hour / 3600000);
                                            item[i].replyCommentList[j].contentCreatTime = hour + 'å°æ—¶å‰'
                                        }
                                    } else if (time > yesterday) item[i].replyCommentList[j].contentCreatTime = 'æ˜¨å¤©';
                                    else {


                                        var timestamp = time;
                                        var newDate = new Date();
                                        //                           newDate.setTime(timestamp * 1000);
                                        newDate.setTime(timestamp);
                                        item[i].replyCommentList[j].contentCreatTime = newDate.toLocaleDateString();
                                    }
                                }
                            }
                            console.log("--------" + JSON.stringify(item[i]));
                            menu_detail.vueObj.comments.push(item[i]);

                            console.log("--------" + JSON.stringify(menu_detail.vueObj.comments));
                        }
                        menu_detail.vueObj.totalcomment = data.totalCount;
                        menu_detail.vueObj.pageNo = data.pageNo;
                        menu_detail.vueObj.totalPageCount = data.totalPageCount
                    },
                    error: function () {

                    }
                });
            },
            //è¥å…»è§†å›¾è¯¦æƒ…æŸ¥çœ‹
            nutritionalView: function () {
                var nutritionList = menu_detail.vueObj.nutritions;
                if (!store.get('nutritionLIst')) {
                    store.set('nutritionList', nutritionList)
                }
                commJs.jumpUrl('http://living.midea.com/ccs/cookbook/3.6.11/' + 'nutritionalView.html?AT=' + commJs.getUrlParam('AT'));
            }
        };
        menu_detail.init();
    </script>

    <!-- <script src="js/eruda.min.js?v=c67a131"></script>
    <script>eruda.init();</script> -->


</body></html>